import{r as s,s as r}from"./index-Dq0PCZmx.js";function m(){const[o,c]=s.useState([]),[i,n]=s.useState(!0),e=s.useCallback(async()=>{n(!0);const{data:t}=await r.from("hohai_news").select("*").eq("is_published",!0).order("created_at",{ascending:!1});c(t||[]),n(!1)},[]);return s.useEffect(()=>{e()},[e]),{items:o,loading:i,createItem:async t=>{const{error:a}=await r.from("hohai_news").insert({...t,is_published:!0});return a||await e(),{error:a}},deleteItem:async t=>{const{error:a}=await r.from("hohai_news").delete().eq("id",t);return a||await e(),{error:a}},refetch:e}}function h(){const[o,c]=s.useState([]),[i,n]=s.useState(!0),e=s.useCallback(async()=>{n(!0);const{data:t}=await r.from("hohai_news").select("*").order("created_at",{ascending:!1});c(t||[]),n(!1)},[]);return s.useEffect(()=>{e()},[e]),{items:o,loading:i,updateItem:async(t,a)=>{const{error:u}=await r.from("hohai_news").update(a).eq("id",t);return u||await e(),{error:u}},deleteItem:async t=>{const{error:a}=await r.from("hohai_news").delete().eq("id",t);return a||await e(),{error:a}},refetch:e}}export{h as a,m as u};
