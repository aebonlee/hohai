import{r,s}from"./index-CUPqXICw.js";function h(){const[c,i]=r.useState([]),[n,o]=r.useState(!0);return r.useEffect(()=>{(async()=>{const{data:u}=await s.from("hohai_categories").select("*").order("display_order",{ascending:!0});i(u||[]),o(!1)})()},[]),{categories:c,loading:n}}function y(){const[c,i]=r.useState([]),[n,o]=r.useState(!0),e=r.useCallback(async()=>{o(!0);const{data:t}=await s.from("hohai_categories").select("*").order("display_order",{ascending:!0});i(t||[]),o(!1)},[]);return r.useEffect(()=>{e()},[e]),{categories:c,loading:n,createCategory:async t=>{const{error:a}=await s.from("hohai_categories").insert(t);return a||await e(),{error:a}},updateCategory:async(t,a)=>{const{error:g}=await s.from("hohai_categories").update(a).eq("id",t);return g||await e(),{error:g}},deleteCategory:async t=>{const{error:a}=await s.from("hohai_categories").delete().eq("id",t);return a||await e(),{error:a}},refetch:e}}export{y as a,h as u};
