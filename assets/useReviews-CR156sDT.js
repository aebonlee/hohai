import{r as s,s as r}from"./index-CUPqXICw.js";function l(){const[o,c]=s.useState([]),[n,i]=s.useState(!0),e=s.useCallback(async()=>{i(!0);const{data:t}=await r.from("hohai_reviews").select("*").eq("is_published",!0).order("created_at",{ascending:!1});c(t||[]),i(!1)},[]);return s.useEffect(()=>{e()},[e]),{reviews:o,loading:n,createReview:async t=>{const{error:a}=await r.from("hohai_reviews").insert({...t,is_published:!0});return a||await e(),{error:a}},deleteReview:async t=>{const{error:a}=await r.from("hohai_reviews").delete().eq("id",t);return a||await e(),{error:a}},refetch:e}}function v(){const[o,c]=s.useState([]),[n,i]=s.useState(!0),e=s.useCallback(async()=>{i(!0);const{data:t}=await r.from("hohai_reviews").select("*").order("created_at",{ascending:!1});c(t||[]),i(!1)},[]);return s.useEffect(()=>{e()},[e]),{reviews:o,loading:n,updateReview:async(t,a)=>{const{error:u}=await r.from("hohai_reviews").update(a).eq("id",t);return u||await e(),{error:u}},deleteReview:async t=>{const{error:a}=await r.from("hohai_reviews").delete().eq("id",t);return a||await e(),{error:a}},refetch:e}}export{v as a,l as u};
