import{p as x,o as h,r as j,j as s,P as u,H as N}from"./index-BCkJtvyK.js";import{S as b}from"./SongCard-CddFgypY.js";import{L as y}from"./LyricsPlayer-BM4RieP4.js";import{u as C,V as z}from"./ViewModeSelector-COSHS1l8.js";import"./LikeButton-GWnPXo-H.js";import"./useViewCount-DVa--Umq.js";import"./LyricsEffects-Aor13UAq.js";const L="_page_1ilzg_1",v="_header_1ilzg_5",P="_subtitle_1ilzg_10",f="_count_1ilzg_17",w="_grid_1ilzg_28",S="_toolbar_1ilzg_35",H="_boardList_1ilzg_42",T="_boardHeader_1ilzg_48",D="_boardRow_1ilzg_59",I="_boardColNum_1ilzg_70",R="_boardColTitle_1ilzg_78",M="_boardColDesc_1ilzg_87",V="_blogList_1ilzg_98",E="_blogItem_1ilzg_105",k="_empty_1ilzg_109",e={page:L,header:v,subtitle:P,count:f,grid:w,toolbar:S,boardList:H,boardHeader:T,boardRow:D,boardColNum:I,boardColTitle:R,boardColDesc:M,blogList:V,blogItem:E,empty:k};function K(){const{songs:l,loading:i}=x(),[o,_]=C("latestSongs"),{setPlaylist:r,clearPlaylist:c,playlist:n,currentIndex:d,lyricsPlayerOpen:g,closeLyricsPlayer:p}=h();j.useEffect(()=>(l.length>0&&r(l),()=>c()),[l,r,c]);const m=n&&d>=0?n[d]:null;return s.jsxs(u,{children:[s.jsxs(N,{children:[s.jsx("title",{children:"최신 노래 — 好海"}),s.jsx("meta",{name:"description",content:"好海 이성헌 시인의 최신 노래 — 시에 멜로디를 입힌 창작 음악"})]}),s.jsx("div",{className:e.page,children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:e.header,children:[s.jsx("h1",{className:"section-title",style:{display:"inline-block"},children:"최신 노래"}),s.jsx("p",{className:e.subtitle,children:"새롭게 태어난 노래를 가장 먼저 만나보세요"}),!i&&l.length>0&&s.jsxs("span",{className:e.count,children:["전체 ",l.length,"곡"]})]}),s.jsx("div",{className:e.toolbar,children:s.jsx(z,{mode:o,onChange:_})}),i?s.jsx("p",{className:e.empty,children:"불러오는 중..."}):l.length>0?o==="board"?s.jsxs("div",{className:e.boardList,children:[s.jsxs("div",{className:e.boardHeader,children:[s.jsx("span",{className:e.boardColNum,children:"#"}),s.jsx("span",{className:e.boardColTitle,children:"제목"}),s.jsx("span",{className:e.boardColDesc,children:"설명"})]}),l.map((a,t)=>s.jsxs("div",{className:e.boardRow,children:[s.jsx("span",{className:e.boardColNum,children:t+1}),s.jsx("span",{className:e.boardColTitle,children:a.title}),s.jsx("span",{className:e.boardColDesc,children:a.description||""})]},a.id))]}):o==="blog"?s.jsx("div",{className:e.blogList,children:l.map(a=>s.jsx("div",{className:e.blogItem,children:s.jsx(b,{song:a,contextPlaylist:l})},a.id))}):s.jsx("div",{className:e.grid,children:l.map((a,t)=>s.jsx(b,{song:a,index:t,contextPlaylist:l},a.id))}):s.jsx("p",{className:e.empty,children:"아직 등록된 노래가 없습니다."})]})}),m&&s.jsx(y,{song:m,isOpen:g,onClose:p})]})}export{K as default};
