import{e as T,r as i,a as v,b as L,j as a,P as g,H as k,L as f,C as h,c as w}from"./index-BqxgY0Ws.js";import{P as R}from"./PoemReaderMode-DbrJpsGl.js";import{C as S}from"./CategoryFilter-Dn35nDSD.js";import{u as I,V as M}from"./ViewModeSelector-C2FlPjMy.js";import{u as P}from"./useCategories-CzWSeYa3.js";import{a as D}from"./useSeries-BTLLNa0v.js";import"./LyricsEffects-DMIMIgh7.js";const E="_page_5mm3h_1",H="_backLink_5mm3h_5",O="_header_5mm3h_19",B="_subtitle_5mm3h_24",V="_toolbar_5mm3h_32",$="_readerBtn_5mm3h_40",A="_grid_5mm3h_66",F="_boardList_5mm3h_73",G="_boardHeader_5mm3h_79",Y="_boardRow_5mm3h_90",q="_boardColNum_5mm3h_102",z="_boardColTitle_5mm3h_110",J="_boardColCat_5mm3h_119",K="_boardColDate_5mm3h_127",Q="_boardTags_5mm3h_135",U="_blogList_5mm3h_147",W="_blogItem_5mm3h_153",X="_blogCategory_5mm3h_163",Z="_blogTitle_5mm3h_171",aa="_blogExcerpt_5mm3h_179",ea="_blogMeta_5mm3h_190",sa="_blogTags_5mm3h_198",ta="_empty_5mm3h_203",e={page:E,backLink:H,header:O,subtitle:B,toolbar:V,readerBtn:$,grid:A,boardList:F,boardHeader:G,boardRow:Y,boardColNum:q,boardColTitle:z,boardColCat:J,boardColDate:K,boardTags:Q,blogList:U,blogItem:W,blogCategory:X,blogTitle:Z,blogExcerpt:aa,blogMeta:ea,blogTags:sa,empty:ta};function ma(){const{slug:_}=T(),{series:t,loading:x}=D(_),[r,j]=i.useState(""),[p,c]=i.useState(!1),[C,N]=i.useState(0),[n,u]=I("poemSeriesDetail"),d=v(),{categories:y}=P(),{poems:o,loading:m}=L(r||void 0,t==null?void 0:t.id,!1,void 0,!!(t!=null&&t.id));return x?a.jsx(g,{children:a.jsx("div",{className:e.page,children:a.jsx("div",{className:"container",children:a.jsx("p",{className:e.empty,children:"불러오는 중..."})})})}):a.jsxs(g,{children:[a.jsxs(k,{children:[a.jsxs("title",{children:[(t==null?void 0:t.name)||"시집"," — 好海"]}),a.jsx("meta",{name:"description",content:(t==null?void 0:t.description)||"好海 이성헌 시인의 시"})]}),a.jsx("div",{className:e.page,children:a.jsxs("div",{className:"container",children:[a.jsx(f,{to:"/poem-series",className:e.backLink,children:"← 시집 목록"}),a.jsxs("div",{className:e.header,children:[a.jsx("h1",{className:"section-title",style:{display:"inline-block"},children:(t==null?void 0:t.name)||"시집"}),(t==null?void 0:t.description)&&a.jsx("p",{className:e.subtitle,children:t.description})]}),a.jsxs("div",{className:e.toolbar,children:[o.length>0&&!m&&a.jsx("button",{className:e.readerBtn,onClick:()=>{N(0),c(!0)},children:"읽기 모드"}),a.jsx(M,{mode:n,onChange:u})]}),a.jsx(S,{categories:y,selected:r,onSelect:j}),m?a.jsx("p",{className:e.empty,children:"불러오는 중..."}):o.length>0?n==="board"?a.jsxs("div",{className:e.boardList,children:[a.jsxs("div",{className:e.boardHeader,children:[a.jsx("span",{className:e.boardColNum,children:"#"}),a.jsx("span",{className:e.boardColTitle,children:"제목"}),a.jsx("span",{className:e.boardColCat,children:"카테고리"}),a.jsx("span",{className:e.boardColDate,children:"날짜"})]}),o.map((s,l)=>a.jsxs("div",{className:e.boardRow,onClick:()=>d(`/poems/${s.id}`),children:[a.jsx("span",{className:e.boardColNum,children:l+1}),a.jsxs("span",{className:e.boardColTitle,children:[s.title,s.tags&&s.tags.length>0&&a.jsx("span",{className:e.boardTags,children:s.tags.slice(0,2).map(b=>a.jsxs("span",{children:["#",b]},b))})]}),a.jsx("span",{className:e.boardColCat,style:{color:h[s.category]},children:s.category}),a.jsx("span",{className:e.boardColDate,children:s.written_date||""})]},s.id))]}):n==="blog"?a.jsx("div",{className:e.blogList,children:o.map(s=>a.jsxs("article",{className:e.blogItem,onClick:()=>d(`/poems/${s.id}`),children:[a.jsx("span",{className:e.blogCategory,style:{color:h[s.category]},children:s.category}),a.jsx("h3",{className:e.blogTitle,children:s.title}),a.jsx("p",{className:e.blogExcerpt,children:s.excerpt||s.content.split(`
`).slice(0,4).join(`
`)}),a.jsxs("div",{className:e.blogMeta,children:[s.tags&&s.tags.length>0&&a.jsx("span",{className:e.blogTags,children:s.tags.slice(0,4).map(l=>a.jsxs("span",{children:["#",l]},l))}),s.written_date&&a.jsx("span",{children:s.written_date})]})]},s.id))}):a.jsx("div",{className:e.grid,children:o.map((s,l)=>a.jsx(w,{poem:s,index:l},s.id))}):a.jsx("p",{className:e.empty,children:r?"이 카테고리에 등록된 시가 없습니다.":"아직 이 시집에 등록된 시가 없습니다."})]})}),a.jsx(R,{poems:o,initialIndex:C,seriesName:t==null?void 0:t.name,isOpen:p,onClose:()=>c(!1)})]})}export{ma as default};
