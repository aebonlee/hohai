import{v as F,r as C,j as L,M as A}from"./index-CNhTrOr2.js";var H=F();const R=(e,f)=>Math.random()*(f-e)+e,S=40;function k(e,f){const l=new Float64Array(S*4);for(let r=0;r<S;r++)l[r*4]=R(0,e),l[r*4+1]=R(0,f),l[r*4+2]=R(1,3.5),l[r*4+3]=R(0,Math.PI*2);return l}function q(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];o-=.2+d*.08,t+=Math.sin(r*6e-4+h)*.3,o<-20&&(o=l+20,t=R(0,f)),s[n]=t,s[n+1]=o;const $=.15+.1*Math.sin(r*.002+h);if(i%3===0){const a=d*1.8;e.save(),e.translate(t,o),e.rotate(Math.sin(r*.001+h)*.2),e.beginPath(),e.moveTo(0,a*.4),e.bezierCurveTo(-a,-a*.3,-a*.5,-a*1.2,0,-a*.5),e.bezierCurveTo(a*.5,-a*1.2,a,-a*.3,0,a*.4),e.fillStyle=`rgba(${M},${p},${b},${$})`,e.fill(),e.restore()}else e.save(),e.translate(t,o),e.rotate(r*.001+h*2),e.beginPath(),e.ellipse(0,0,d*1.5,d*.6,0,0,Math.PI*2),e.fillStyle=`rgba(${y},${u},${m},${$*.7})`,e.fill(),e.restore()}}function W(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let n=0;n<S;n++){const t=n*4;let o=s[t],d=s[t+1];const h=s[t+2],$=.8+h*.4;d+=$,o-=$*.05,d>l+10&&(d=R(-60,-10),o=R(0,f)),s[t]=o,s[t+1]=d;const a=.1+h/3.5*.12;e.beginPath(),e.moveTo(o,d),e.lineTo(o+.5,d-h*5),e.strokeStyle=`rgba(${M},${p},${b},${a})`,e.lineWidth=.6,e.stroke()}const i=l*.82;for(let n=0;n<6;n++){const t=i+n*12,o=2+n*.5,d=.005+n*.001,h=r*(4e-4+n*5e-5);e.beginPath(),e.moveTo(0,t);for(let a=0;a<=f;a+=8)e.lineTo(a,t+Math.sin(a*d+h)*o);const $=.04+(1-n/6)*.04;e.strokeStyle=`rgba(${y},${u},${m},${$})`,e.lineWidth=.8,e.stroke()}}function D(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];t+=.4+d*.15,o+=Math.sin(r*.001+h)*.3+.1,t>f+30&&(t=-30,o=R(0,l)),s[n]=t,s[n+1]=o;const $=t/f,a=(.2+.1*Math.sin(r*.002+h))*(1-$*.6),g=i%2===0?[M,p,b]:[y,u,m];e.save(),e.translate(t,o),e.rotate(r*.0015+h*3),e.beginPath(),e.ellipse(0,0,d*2,d*.7,0,0,Math.PI*2),e.fillStyle=`rgba(${g[0]},${g[1]},${g[2]},${a})`,e.fill(),e.restore()}}function O(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];t+=Math.sin(r*3e-4+h)*.2,o+=Math.cos(r*25e-5+h*1.3)*.15,t>f+30&&(t-=f+60),t<-30&&(t+=f+60),o>l+30&&(o-=l+60),o<-30&&(o+=l+60),s[n]=t,s[n+1]=o;const $=.4+.6*Math.sin(r*.0015+h*2.5),a=d*6,g=i%2===0?[M,p,b]:[y,u,m],P=e.createRadialGradient(t,o,0,t,o,a);P.addColorStop(0,`rgba(${g[0]},${g[1]},${g[2]},${$*.2})`),P.addColorStop(.5,`rgba(${g[0]},${g[1]},${g[2]},${$*.06})`),P.addColorStop(1,`rgba(${g[0]},${g[1]},${g[2]},0)`),e.fillStyle=P,e.beginPath(),e.arc(t,o,a,0,Math.PI*2),e.fill()}}function _(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary,i=[{x:f*.3,y:l*.4},{x:f*.7,y:l*.6},{x:f*.5,y:l*.25}];for(let n=0;n<i.length;n++){const t=i[n].x+Math.sin(r*2e-4+n*2)*20,o=i[n].y+Math.cos(r*15e-5+n*3)*15,d=n%2===0?[M,p,b]:[y,u,m],h=Math.max(f,l)*.4;for(let $=0;$<8;$++){const a=(r*.02+$*h/8+n*80)%h,g=.08*(1-a/h);g<=0||(e.beginPath(),e.arc(t,o,a,0,Math.PI*2),e.strokeStyle=`rgba(${d[0]},${d[1]},${d[2]},${g})`,e.lineWidth=1,e.stroke())}}}function G(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];t+=Math.sin(r*7e-4+h)*.35,o+=Math.cos(r*5e-4+h*1.4)*.25,t>f+20&&(t-=f+40),t<-20&&(t+=f+40),o>l+20&&(o-=l+40),o<-20&&(o+=l+40),s[n]=t,s[n+1]=o;const $=.3+.7*Math.pow(Math.max(0,Math.sin(r*.002+h*3)),2),a=i%3===0?[y,u,m]:[M,p,b],g=d*8,P=e.createRadialGradient(t,o,0,t,o,g);P.addColorStop(0,`rgba(${a[0]},${a[1]},${a[2]},${$*.15})`),P.addColorStop(.5,`rgba(${a[0]},${a[1]},${a[2]},${$*.04})`),P.addColorStop(1,`rgba(${a[0]},${a[1]},${a[2]},0)`),e.fillStyle=P,e.beginPath(),e.arc(t,o,g,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(t,o,d*.6,0,Math.PI*2),e.fillStyle=`rgba(${a[0]},${a[1]},${a[2]},${$*.6})`,e.fill()}}function j(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];if(i<25){o+=.25+Math.sin(r*.001+h)*.12,t+=Math.sin(r*5e-4+h*2)*.4,o>l+20&&(o=-20,t=R(0,f)),s[n]=t,s[n+1]=o;const $=r*.002+h*5,a=.2+.1*Math.sin(r*.001+h),g=i%2===0?[M,p,b]:[y,u,m];e.save(),e.translate(t,o),e.rotate($),e.beginPath(),e.ellipse(0,0,d*2,d*.7,0,0,Math.PI*2),e.fillStyle=`rgba(${g[0]},${g[1]},${g[2]},${a})`,e.fill(),e.restore()}else{t+=Math.sin(r*4e-4+h)*.1,o+=Math.cos(r*3e-4+h*1.5)*.1,s[n]=t,s[n+1]=o;const $=Math.pow(Math.max(0,Math.sin(r*.004+h*5)),4);e.beginPath(),e.arc(t,o,d*.4,0,Math.PI*2),e.fillStyle=`rgba(${y},${u},${m},${$*.6})`,e.fill()}}}function B(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];t+=Math.sin(r*3e-4+h)*.15,o+=Math.cos(r*25e-5+h*1.2)*.12,t>f+30&&(t-=f+60),t<-30&&(t+=f+60),o>l+30&&(o-=l+60),o<-30&&(o+=l+60),s[n]=t,s[n+1]=o;const $=.08+.06*Math.sin(r*.0015+h*2),a=r*5e-4+h,g=i%2===0?[M,p,b]:[y,u,m],P=i%3===0?3:i%3===1?4:6,v=d*3;e.save(),e.translate(t,o),e.rotate(a),e.beginPath();for(let w=0;w<=P;w++){const I=w/P*Math.PI*2,z=Math.cos(I)*v,T=Math.sin(I)*v;w===0?e.moveTo(z,T):e.lineTo(z,T)}e.closePath(),e.strokeStyle=`rgba(${g[0]},${g[1]},${g[2]},${$})`,e.lineWidth=.8,e.stroke(),e.restore()}}function N(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary;for(let i=0;i<S;i++){const n=i*4;let t=s[n],o=s[n+1];const d=s[n+2],h=s[n+3];o-=.6+d*.3,t+=Math.sin(r*.001+h)*.4,o<-20&&(o=l+R(0,40),t=R(f*.2,f*.8)),s[n]=t,s[n+1]=o;const $=1-o/l,a=(.3+.4*Math.sin(r*.003+h*2))*(1-$*.5),g=i%2===0?[M,p,b]:[y,u,m],P=d*4,v=e.createRadialGradient(t,o,0,t,o,P);v.addColorStop(0,`rgba(${g[0]},${g[1]},${g[2]},${a*.4})`),v.addColorStop(.4,`rgba(${g[0]},${g[1]},${g[2]},${a*.15})`),v.addColorStop(1,`rgba(${g[0]},${g[1]},${g[2]},0)`),e.fillStyle=v,e.beginPath(),e.arc(t,o,P,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(t,o,d*.5,0,Math.PI*2),e.fillStyle=`rgba(255,240,200,${a*.5})`,e.fill()}}function Y(e,f,l,r,s,c){e.clearRect(0,0,f,l);const[M,p,b]=c.primary,[y,u,m]=c.secondary,i=l*.6;for(let n=0;n<12;n++){const t=i+(l-i)*(n/12),o=1.5+n*.3,d=.003+n*3e-4,h=r*(4e-4+n*4e-5);e.beginPath(),e.moveTo(0,t);for(let a=0;a<=f;a+=8)e.lineTo(a,t+Math.sin(a*d+h)*o);const $=.02+n/12*.03;e.strokeStyle=`rgba(${M},${p},${b},${$})`,e.lineWidth=.8,e.stroke()}for(let n=0;n<S;n++){const t=n*4;let o=s[t],d=s[t+1];const h=s[t+2],$=s[t+3];d-=.1+Math.abs(Math.sin($))*.3,o+=Math.sin(r*.001+n)*.15,d<-10&&(d=l+10,o=R(0,f)),s[t]=o,s[t+1]=d;const g=(.12+(.5+.5*Math.sin(r*.003+n*2.1))*.15)*(h/3),P=n%3===0?[y,u,m]:[M,p,b];e.beginPath(),e.arc(o,d,h,0,Math.PI*2),e.fillStyle=`rgba(${P[0]},${P[1]},${P[2]},${g})`,e.fill()}}const E={사랑:q,그리움:W,작별:D,추억:O,인생:_,가족:G,자연:j,세상:B,의지:N,default:Y};function J({mood:e,isActive:f}){const l=C.useRef(null),r=C.useRef(0),s=C.useRef(null),c=C.useRef(null),M=C.useCallback(p=>{const b=Math.min(window.devicePixelRatio||1,2),y=p.parentElement;if(!y)return;const u=y.getBoundingClientRect();p.width=u.width*b,p.height=u.height*b,p.style.width=`${u.width}px`,p.style.height=`${u.height}px`,s.current=k(u.width,u.height),c.current=e},[e]);return C.useEffect(()=>{const p=l.current;if(!p)return;const b=p.getContext("2d");if(!b)return;const y=()=>M(p);if(y(),window.addEventListener("resize",y),c.current!==e){const n=p.parentElement;if(n){const t=n.getBoundingClientRect();s.current=k(t.width,t.height)}c.current=e}const u=A[e],m=E[e]??E.default,i=()=>{if(!f){r.current=requestAnimationFrame(i);return}const n=p.parentElement;if(!n){r.current=requestAnimationFrame(i);return}const t=n.getBoundingClientRect(),o=t.width,d=t.height,h=performance.now(),$=s.current;if(!$){r.current=requestAnimationFrame(i);return}const a=Math.min(window.devicePixelRatio||1,2);b.setTransform(a,0,0,a,0,0),m(b,o,d,h,$,u),r.current=requestAnimationFrame(i)};return r.current=requestAnimationFrame(i),()=>{cancelAnimationFrame(r.current),window.removeEventListener("resize",y)}},[e,f,M]),L.jsx("canvas",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",zIndex:1,pointerEvents:"none"}})}export{E as D,J as L,k as i,H as r};
